
<ion-view view-title="Today">
<ion-content class="padding" scroll="false">
  <div class="spinner" ng-hide="yelpLoading() || noEventResult()">
  <ion-spinner></ion-spinner>
  </div>
  <ion-slides options="options" slider="data.slider">

    <ion-slide-page>
               <div class="postLoad" ng-show="yelpLoading() || noEventResult()"> 
                 <div ng-if="currentGroup.access !== 'pending'">
               
                <div class="row">
                  <div style="padding-top:8px;" class="col col-75">
                  <h5 class="no-margin header-font">{{day_of_week}}</h5>
                  <h5 class="no-margin header-font">{{now_formatted_date}}</h5>
                  <h4 ng-if="result" class="no-margin header-font-heavy">{{event.venue}}</h4>
                  <h5 ng-if="result" class="no-margin header-font">{{event.cityState}}</h5>
                  </div>
                  <div ng-show="weatherData" class="weather-box col col-25">
                    <span class="weather-image"><i class="wi wi-yahoo-{{weatherData.condition.code}}"></i></span>
                    <h3 class="weather-main-temp center-text">{{weatherData.condition.temp}}<span ng-show="weatherData">°</span></h3>
                    <h5 class="weather-forecast center-text"><i class="wi wi-direction-up"></i> {{weatherData.forecast[0].high}}<span ng-show="weatherData">°</span> / <i class="wi wi-direction-down"></i> {{weatherData.forecast[0].low}}<span ng-show="weatherData">°</span></h5>
                  </div>
                </div>
                <ion-list ng-show="todayItins">
                <div ng-repeat="itin in todayItins | toArray:false | orderBy: 'startTimeUnix'">
                      <ion-item  ng-click="toggleItin(itin)" class="item-itin no-padding">
                        <div class="row">
                          <div class="col itin-list itin-name">{{itin.mainItem}}</div>
                          <div class="col itin-list itin-time">{{itin.startTime}}<span ng-show="itin.endTime"> - </span>{{itin.endTime}}</div>
                        </div>
                      </ion-item>
                      <ion-item class="item-accordion" ng-show="isItinShown(itin)">
                        {{itin.details}}
                      </ion-item>
              </div>
            </ion-list>
              </div>
             <div class="no-itins center-text" ng-show="!todayItins && !noEventResult()">
              <div class="cat-time"></div>
              <h3 class="no-margin">Your itinerary is empty.</h3>
              <h2 class="no-margin header-font-heavy">ROADIE FRIDAY!</h2> 
              <h4>{{profile}}</h4> 
             </div>
              <div class="no-itins center-text" ng-show="noEventResult()">
              <div class="cat-time-no-event"></div>
              <h3 class="no-margin">You have no event scheduled today.</h3> 
             </div>
          </div>  
    </ion-slide-page>
    <ion-slide-page ng-if="yelpLoading()">
      <h5 class="center-text no-margin">Powered by <img class="yelp-logo" src="../img/yelp.png"></h5>
        <h4 class="center-text no-margin header-font-heavy">What's Nearby</h4>
        <div class="row">
          <div class="col col-50 col-offset-25">
            <div class="button-bar">
              <a ng-click="yelpShowFood()" class="button button-outline button-dark button-yelp"><i class="icon ion-pizza"></i></a>
              <a ng-click="yelpShowEntertainment()" class="button button-outline button-dark button-yelp"><i class="icon ion-film-marker"></i></a>
              <a ng-click="yelpShowEmergency()" class="button button-outline button-assertive button-yelp"><i class="icon ion-medkit"></i></a>
            </div>
          </div>
        </div>
        <div class="yelp" ng-show="yelpShow.food">
              <ion-list>
              <div class="item-itin item-divider">
                <h5 class="no-margin header-font">Food</h5>
              </div>
                <ion-item class="item-itin no-padding yelp-list" ng-repeat="restaurant in yelp.restaurants">
                  <div class="row">
                    <div class="col col-50 no-padding-top">
                      <span class='yelp-name'>{{restaurant.name}}</span><br>
                      <div class='yelp-review'><img ng-src="{{restaurant.rating_img_url_small}}"></div><div class='yelp-review-count'>{{restaurant.review_count}} Reviews</div><br>
                      <span class="yelp-address">{{restaurant.location.display_address[0]}} {{restaurant.location.city}}</span>
                    </div>
                    <div class="col col-50 no-padding-top text-right">
                      <span class="yelp-distance">{{metersToMiles(restaurant.distance)}} mi</span><br><span class="yelp-category">{{restaurant.categories[0][0]}}</span>
                    </div>
                  </div>
                </ion-item>
              </ion-list>
              <br>
            
              <ion-list>
                <div class="item-itin item-divider">
                  <h5 class="no-margin header-font">Coffee/Tea</h5>
                </div>
                <ion-item class="item-itin no-padding yelp-list">
                  <div class="row">
                    <div class="col col-50 no-padding-top">
                      <span class='yelp-name'>{{yelp.coffee.name}}</span><br>
                      <div class='yelp-review'><img ng-src="{{yelp.coffee.rating_img_url_small}}"></div><div class='yelp-review-count'>{{yelp.coffee.review_count}} Reviews</div><br>
                      <span class="yelp-address">{{yelp.coffee.location.display_address[0]}} {{yelp.coffee.location.city}}</span>
                    </div>
                    <div class="col col-50 no-padding-top text-right">
                      <span class="yelp-distance">{{metersToMiles(yelp.coffee.distance)}} mi</span><br><span class="yelp-category">{{yelp.coffee.categories[0][0]}}</span>
                    </div>
                  </div>
                </ion-item>
              </ion-list>
        </div>
         <div class="yelp" ng-show="yelpShow.entertainment">
              <ion-list>
              <div class="item-itin item-divider">
                <h5 class="no-margin header-font">Gym</h5>
              </div>
                <ion-item class="item-itin no-padding yelp-list">
                  <div class="row">
                    <div class="col col-50 no-padding-top">
                      <span class='yelp-name'>{{yelp.gym.name}}</span><br>
                      <div class='yelp-review'><img ng-src="{{yelp.gym.rating_img_url_small}}"></div><div class='yelp-review-count'>{{yelp.gym.review_count}} Reviews</div><br>
                      <span class="yelp-address">{{yelp.gym.location.display_address[0]}} {{yelp.gym.location.city}}</span>
                    </div>
                    <div class="col col-50 no-padding-top text-right">
                      <span class="yelp-distance">{{metersToMiles(yelp.gym.distance)}} mi</span><br><span class="yelp-category">{{yelp.gym.categories[0][0]}}</span>
                    </div>
                  </div>
                </ion-item>
              </ion-list><br>
              <ion-list>
              <div class="item-itin item-divider">
                <h5 class="no-margin header-font">Movie Theater</h5>
              </div>
                <ion-item class="item-itin no-padding yelp-list">
                  <div class="row">
                    <div class="col col-50 no-padding-top">
                      <span class='yelp-name'>{{yelp.movie.name}}</span><br>
                      <div class='yelp-review'><img ng-src="{{yelp.movie.rating_img_url_small}}"></div><div class='yelp-review-count'>{{yelp.movie.review_count}} Reviews</div><br>
                      <span class="yelp-address">{{yelp.movie.location.display_address[0]}} {{yelp.movie.location.city}}</span>
                    </div>
                    <div class="col col-50 no-padding-top text-right">
                      <span class="yelp-distance">{{metersToMiles(yelp.movie.distance)}} mi</span><br><span class="yelp-category">{{yelp.movie.categories[0][0]}}</span>
                    </div>
                  </div>
                </ion-item>
              </ion-list><br>
              <ion-list>
              <div class="item-itin item-divider">
                <h5 class="no-margin header-font">Bookstore</h5>
              </div>
                <ion-item class="item-itin no-padding yelp-list">
                  <div class="row">
                    <div class="col col-50 no-padding-top">
                      <span class='yelp-name'>{{yelp.bookstore.name}}</span><br>
                      <div class='yelp-review'><img ng-src="{{yelp.bookstore.rating_img_url_small}}"></div><div class='yelp-review-count'>{{yelp.bookstore.review_count}} Reviews</div><br>
                      <span class="yelp-address">{{yelp.bookstore.location.display_address[0]}} {{yelp.bookstore.location.city}}</span>
                    </div>
                    <div class="col col-50 no-padding-top text-right">
                      <span class="yelp-distance">{{metersToMiles(yelp.bookstore.distance)}} mi</span><br><span class="yelp-category">{{yelp.bookstore.categories[0][0]}}</span>
                    </div>
                  </div>
                </ion-item>
              </ion-list>
        </div>
         <div class="yelp" ng-show="yelpShow.emergency">
              <ion-list>
              <div class="item-itin item-divider">
                <h5 class="no-margin header-font">Pharmacy</h5>
              </div>
                <ion-item class="item-itin no-padding yelp-list">
                  <div class="row">
                    <div class="col col-50 no-padding-top">
                      <span class='yelp-name'>{{yelp.pharmacy.name}}</span><br>
                      <div class='yelp-review'><img ng-src="{{yelp.pharmacy.rating_img_url_small}}"></div><div class='yelp-review-count'>{{yelp.pharmacy.review_count}} Reviews</div><br>
                      <span class="yelp-address">{{yelp.pharmacy.location.display_address[0]}} {{yelp.pharmacy.location.city}}</span>
                    </div>
                    <div class="col col-50 no-padding-top text-right">
                      <span class="yelp-distance">{{metersToMiles(yelp.pharmacy.distance)}} mi</span><br><span class="yelp-category">{{yelp.pharmacy.categories[0][0]}}</span><br>
                       <span class='yelp-phone'><a ng-href='tel:{{yelp.pharmacy.display_phone}}'>{{yelp.pharmacy.formattedPhone}}</a></span>
                    </div>
                  </div>
                </ion-item>
              </ion-list><br>
              <ion-list>
              <div class="item-itin item-divider">
                <h5 class="no-margin header-font">Urgent Care Clinic</h5>
              </div>
                <ion-item class="item-itin no-padding yelp-list">
                  <div class="row">
                    <div class="col col-50 no-padding-top">
                      <span class='yelp-name'>{{yelp.urgent.name}}</span><br>
                      <div class='yelp-review'><img ng-src="{{yelp.urgent.rating_img_url_small}}"></div><div class='yelp-review-count'>{{yelp.urgent.review_count}} Reviews</div><br>
                      <span class="yelp-address">{{yelp.urgent.location.display_address[0]}} {{yelp.urgent.location.city}}</span>
                    </div>
                    <div class="col col-50 no-padding-top text-right">
                      <span class="yelp-distance">{{metersToMiles(yelp.urgent.distance)}} mi</span><br><span class="yelp-category">{{yelp.urgent.categories[0][0]}}</span><br>
                       <span class='yelp-phone'><a ng-href='tel:{{yelp.urgent.display_phone}}'>{{yelp.urgent.formattedPhone}}</a></span>
                    </div>
                  </div>
                </ion-item>
              </ion-list><br>
              <ion-list>
              <div class="item-itin item-divider">
                <h5 class="no-margin header-font">Hospital</h5>
              </div>
                <ion-item class="item-itin no-padding yelp-list">
                  <div class="row">
                    <div class="col col-50 no-padding-top">
                      <span class='yelp-name'>{{yelp.hospital.name}}</span><br>
                      <div class='yelp-review'><img ng-src="{{yelp.hospital.rating_img_url_small}}"></div><div class='yelp-review-count'>{{yelp.hospital.review_count}} Reviews</div><br>
                      <span class="yelp-address">{{yelp.hospital.location.display_address[0]}} {{yelp.hospital.location.city}}</span>
                    </div>
                    <div class="col col-50 no-padding-top text-right">
                      <span class="yelp-distance">{{metersToMiles(yelp.hospital.distance)}} mi</span><br><span class="yelp-category">{{yelp.hospital.categories[0][0]}}</span><br>
                       <span class='yelp-phone'><a ng-href='tel:{{yelp.hospital.display_phone}}'>{{yelp.hospital.formattedPhone}}</a></span>
  
                    </div>
                  </div>
                </ion-item>
              </ion-list>
        </div>
    </ion-slide-page>
    <ion-slide-page>
      <div class="box pink"><h1>PINK</h1></div>
    </ion-slide-page> 
 
  </ion-slides>

   <div ng-if="result === false">
              <h4>There is no event scheduled today.</h4>
              </div>
              <div ng-if="currentGroup.access === 'pending'">
              <h3>Your attempt to join a group is still pending - Talk to your administrator.</h3>
              </div>
</ion-content>






</ion-view>
